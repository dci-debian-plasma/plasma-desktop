commit a385460fc2a2ccec70f00bcc5ab51d4d648904e1
Author: Dan Vr√°til <dvratil@redhat.com>
Date:   Thu Apr 2 11:48:10 2015 +0200

    KFontInst: fix font list view header alignment and item sizehint
    
    REVIEW: 123220

diff --git a/kcms/kfontinst/kcmfontinst/FontList.cpp b/kcms/kfontinst/kcmfontinst/FontList.cpp
index 802b383..9eb8c9b 100644
--- a/kcms/kfontinst/kcmfontinst/FontList.cpp
+++ b/kcms/kfontinst/kcmfontinst/FontList.cpp
@@ -615,7 +615,7 @@ QVariant CFontList::headerData(int section, Qt::Orientation orientation,
 //                     return SmallIcon("fontstatus");
 //                 break;
             case Qt::TextAlignmentRole:
-                return Qt::AlignLeft;
+                return QVariant(Qt::AlignLeft | Qt::AlignVCenter);
             case Qt::ToolTipRole:
                 if(COL_STATUS==section)
                     return i18n("This column shows the status of the font family, and of the "
@@ -1107,8 +1107,10 @@ QVariant CFontListSortFilterProxy::data(const QModelIndex &idx, int role) const
                                   ? "dialog-ok" : "dialog-cancel", 10);
             break;
         case Qt::SizeHintRole:
-            if(mi->isFamily())
-                return SmallIcon("dialog-ok").size()+QSize(0, 4);
+            if(mi->isFamily()) {
+                const int s = KIconLoader::global()->currentSize(KIconLoader::Small);
+                return QSize(s, s + 4);
+            }
         default:
             break;
     }
diff --git a/kcms/kfontinst/kcmfontinst/GroupList.cpp b/kcms/kfontinst/kcmfontinst/GroupList.cpp
index 4532c0d..d369f4e 100644
--- a/kcms/kfontinst/kcmfontinst/GroupList.cpp
+++ b/kcms/kfontinst/kcmfontinst/GroupList.cpp
@@ -286,7 +286,10 @@ QVariant CGroupList::data(const QModelIndex &index, int role) const
                         }
                         break;
                     case Qt::SizeHintRole:
-                        return SmallIcon("dialog-ok").size()+QSize(0, 4);
+                    {
+                        const int s = KIconLoader::global()->currentSize(KIconLoader::Small);
+                        return QSize(s, s + 4);
+                    }
                     case Qt::EditRole:
                     case Qt::DisplayRole:
                         return grp->name();
@@ -380,7 +383,7 @@ QVariant CGroupList::headerData(int section, Qt::Orientation orientation, int ro
             case Qt::DisplayRole:
                 return i18n("Group");
             case Qt::TextAlignmentRole:
-                return Qt::AlignLeft;
+                return QVariant(Qt::AlignLeft | Qt::AlignVCenter);
             case Qt::WhatsThisRole:
                 return whatsThis();
             default:
